<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
    <title>Hello, world!</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark p-2">
  <div class="container-fluid">
    <a class="navbar-brand " href="#">
      <img src="log.png" alt="" width="50" height="40" class="d-inline-block align-text-top">
    <p class="d-inline-block link mt-1 align-text-top">wsing</p>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
      <div class="navbar-nav text-center mt-n4">
        <a class="nav-link active me-4" aria-current="page" href="#" id="name"></a>
       
        <a class="nav-link me-4" href="index.html" >logout</a>
       
      </div>
    </div>
  </div>
</nav>
<div class="container-fluid">
  <div class="row">
    <div class="col-2 " style="height: 46.9vw; background: #39423b;">
           <div class="container-fluid">
             <div class="row"  style="width: 260px;">
               <div class="sm-3" style=" margin-left: -20px; width: 360px; padding: 20px;">
                 <a href="client.html" style="text-decoration: none;"><p style="color: white; text-align: center;">view Available Appartment</p></a>
               </div>
               <div class="sm-3" style=" margin-left: -20px; width: 360px; padding: 20px; ">
                 <a href="Mpayment.html" style="text-decoration: none;"> <p style="color: white; text-align: center;">view Monthly payment</p></a>
               </div>
               <div class="sm-3 " style=" margin-left: -20px; width: 360px; padding: 20px;  background: black;">
                  <p style="color: white; text-align: center;">Funds</p>
               </div>
               <div class="sm-3 " style=" margin-left: -20px; width: 360px; padding: 20px; ">
                  <a href="billing.html" style="text-decoration: none;"><p style="color: white; text-align: center;">Billing</p></a>
               </div>
             </div>
           </div>
            
           </div>

    <div class="col-10 ">
       <div class="container-fluid " style="padding-top: 300px; margin-top: 20px; box-shadow: 1px 20px 20px 5px gray; border-radius: 9px;">
            <div class="container" style="position: absolute; top: 15%; width: 900px;">
              <h1>Hello User This  is your money</h1>
            </div>
          <div class="container bg-dark" style="padding-top: 140px; width: 350px; position: absolute; top: 25%; box-shadow: 1px 20px 20px 5px gray; border-radius: 9px;" id="balanceparent">
                <h1 style="color: white;  position: absolute; top: 20%; text-align: center; margin-left: 100px;"  id="balance"></h1>
          </div>
            <button type="button" class="btn btn-primary" style="position: absolute;  top: 40%; left: 50%;" data-bs-toggle="modal" data-bs-target="#exampleModal"  onclick="transactmoney()">Cash in</button>
             <button type="button" class="btn btn-primary" style="position: absolute;  top: 40%; left: 56%;">History</button>
       </div>
    </div>
  </div>
</div>
<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <form>
  <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">Amount of Money transact</label>
    <input type="text" class="form-control" id="Funduser" aria-describedby="emailHelp">
    <div id="emailHelp" class="form-text">We'll never share your information with anyone else.</div>
  </div>
  <div class="mb-3">
    <label for="exampleInputPassword1" class="form-label">cellphone</label>
    <input type="number" class="form-control" id="celnumber">
  </div>
  <div class="mb-3 form-check">
    <input type="checkbox" class="form-check-input" id="exampleCheck1">
    <label class="form-check-label" for="exampleCheck1">Check me out</label>
  </div>
  <button type="button" class="btn btn-primary" id="sendmoney" onclick="transactmoney()">Send</button>
</form>

      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>



    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
  </body>
  <script type="text/javascript">
      $.ajax({
    url: "client.php",
    type: "POST",
    cache: false,
    success: function(data){
     var data = JSON.parse(data);

     var str = "";
  
            let ctr = 1;
            data.forEach(element => {
               
                str += "<p id=name-insert>"+element.ownername+"</p>";
                 
                ctr++;
            });

      $('#name').append(str);
     let name = document.getElementById("name-insert").innerHTML
      for (var i = 0; i<data.length; i++) {
    var x = "";
  
            if (name =="undefined") {
    
              let list = document.getElementById("name")
                    if (list.hasChildNodes()) {
                       
                          //x += list.removeChild(list.children[i]);
 for (var z = 1; z<data.length; z++) {
x += list.removeChild(list.children[i]);
 }
 
                        
                      
  
                       
             }

           }
        }

       
    }

  });
      
      $.ajax({
    url: "client.php",
    type: "POST",
    cache: false,
    success: function(data){
     var data = JSON.parse(data);
     var str = "";
    
           
            data.forEach(element => {
                
                
               str += "<p id=amount>"+"$"+element.total+"</p>";
              
                
            });
  
      $('#balance').append(str);
        
    let balance = document.getElementById("balance");
       let balanceamount = document.getElementById("amount").innerHTML;
      if (balanceamount =="$undefined") {
        let balanceamounts = document.getElementById("amount").innerHTML = "0";
      }
        for (var i = 1; i < data.length; i++) {
           if (balance.hasChildNodes()) {
          
            
  balance.removeChild(balance.childNodes[1]);

}
        }
    }


  });


      function transactmoney() {
        let Funduser = document.getElementById("Funduser") .value
         let celnumber = document.getElementById("celnumber") .value
         $.ajax({
        type: 'POST',
        url: 'client.php',
        data: {Funduser: Funduser,celnumber: celnumber},
        success: function(response) {
                 alert(response)
            if (Funduser!="" && celnumber!="") {
            
              let Funduser = document.getElementById("Funduser") .value = ""
         let celnumber = document.getElementById("celnumber") .value = ""
            }
            else{
              let Funduser = document.getElementById("Funduser") .value = ""
         let celnumber = document.getElementById("celnumber") .value = ""
            }

        }
    });

      }
      

  </script>
</html>